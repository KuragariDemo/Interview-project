<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;1,100;1,200;1,400&display=swap"
    rel="stylesheet" />
  <style>
    .dropbtn {
      cursor: pointer;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #f1f1f1;
      min-width: 160px;
      overflow: auto;
      box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
      z-index: 1;
    }

    .dropdown-content a {
      color: black;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
    }

    .dropdown a:hover {
      background-color: #ddd;
    }

    .show {
      display: block;
    }
  </style>
</head>

<body>
  <div class="MainScreen">
    <div class="Box">
      <div class="TopHeading">
        <div class="Tleft">
          <div class="flexbox2"><img src="./img/Logo(2).png" /></div>
        </div>
        <div class="Tright">
          <div class="flexbox1"><img src="./img/Notifications.png" /></div>
          <div class="userInfo">
            <img src="./img/user image.png" />
            <div class="Lisa">
              <div>Lisa</div>
              <div>Operator</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <section class="Body">
      <div class="sectop">
        <div class="secBody">
          <div class="textleft">
            <div class="list">Patient List</div>
            <div class="IMG">
              <input type="text" placeholder="Search Bar" class="search" />
              <span class="searchImg"> <img src="./img/search.png" /> </span>
            </div>
            <div class="dropDown">
              <select class="dropdownSelect">
                <option class="OP" selected>Status All</option>
                <option class="OP">Option2</option>
                <option class="OP">Option5</option>
              </select>
              <select class="dropdownSelect">
                <option class="OP" selected>Breed All</option>
                <option class="OP">Option3</option>
                <option class="OP">Option4</option>
              </select>
            </div>
          </div>
          <div class="textright">
            <span>
              <button id="myBtn" class="myBtn">+ Add New Patient</button>
              <div id="myModal" class="modal">
                <div class="modal-content">
                  <div class="modal-header">
                    <span class="close">&times;</span>
                  </div>
                  <form>
                    <div class="modal-header">
                      <h5>Add New Patient</h5>
                      <p style="font-size: 15px;">Enter Patient Information Below</p>
                    </div>
                    <div class="input1">
                      <div class="lable-div">
                        <label class="label-style" style="font-size: 15px;">Pet Name</label>
                        <input type="text" class="textbox" placeholder="Pet Name" name="petName" id="petName">
                      </div>
                      <div class="lable-div">
                        <label class="label-style" style="font-size: 15px;">Status</label>
                        <input type="text" class="textbox" placeholder="Status" name="statusName" id="statusName">
                      </div>
                    </div>
                    <div class="input1">
                      <div class="lable-div">
                        <label class="label-style" style="font-size: 15px;">Pawrent</label>
                        <input type="text" class="textbox" placeholder="Pawrent" name="pawrentName" id="pawrentName">
                      </div>
                      <div class="lable-div">
                        <label class="label-style" style="font-size: 15px;">Breed</label>
                        <input type="text" class="textbox" placeholder="Breed" name="breedName" id="breedName">
                      </div>
                    </div>
                    <div class="input1">
                      <div class="lable-div">
                        <label class="label-style" style="font-size: 15px; margin-left: 20px;">Gender</label>
                        <div class="wrapper">
                          <input type="radio" name="gender" value="male" id="option-1" checked>
                          <input type="radio" name="gender" value="female" id="option-2">
                          <label for="option-1" class="option option-1">
                            <div class="dot"></div>
                            <span>Male</span>
                          </label>
                          <label for="option-2" class="option option-2">
                            <div class="dot"></div>
                            <span>Female</span>
                          </label>
                        </div>
                      </div>
                      <div class="lable-div">
                        <label class="label-style" style="font-size: 15px; margin-left: 80px;">Date of Birth</label>
                        <input type="date" class="textbox textbox2" style="margin-right: 20px;" name="dobName"
                          id="dobName">
                      </div>
                    </div>
                    <div class="input1">
                      <div class="lable-div">
                        <label class="label-style" style="font-size: 15px; ">Contant Ph NO.</label>
                        <input type="number" class="textbox" placeholder="Contant Ph NO." name="phName" id="phName">
                      </div>
                      <div class="lable-div">
                        <label class="label-style" style="font-size: 15px;">Address</label>
                        <input type="text" class="textbox" placeholder="Address" name="addressName" id="addressName">
                      </div>
                    </div>
                    <div class="input1">
                      <div class="lable-div">
                        <label class="label-style" style="font-size: 15px; ">City</label>
                        <input type="text" class="textbox" placeholder="City" name="cityName" id="cityName">
                      </div>
                      <div class="lable-div">
                        <label class="label-style" style="font-size: 15px;">Town</label>
                        <input type="text" class="textbox" placeholder="Town" name="townName" id="townName">
                      </div>
                    </div>
                    <div class="input2">
                      <button type="button" class="btn" onclick="addHtmTableRow()">Save</button>
                      <button type="button" class="btn" onclick="onCancel()">Cancel</button>
                    </div>
                  </form>
                </div>
              </div>
            </span>
            <span>
              <span class="rowClass">Row per pages :</span>
              <select class="RowPerPage">
                <option>10</option>
              </select>
            </span>
          </div>
        </div>
      </div>
    </section>
    <div class="table">
      <table id="table" class="styled-table  fet">
        <thead>
          <tr>
            <th>ID</th>
            <th>Pet Name</th>
            <th>Status</th>
            <th>Pawrent</th>
            <th>Breed</th>
            <th>Gender</th>
            <th>Date of Birth</th>
            <th>Contact Ph No</th>
            <th>Address</th>
            <th> Edit/Delete</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>P-1</td>
            <td>CoCo</td>
            <td>Ill</td>
            <td>Kyaw Gyi</td>
            <td>Golden Retriever</td>
            <td>Male</td>
            <td>1/1/1111</td>
            <td>11-11-11-11</td>
            <td>Yangon</td>
            <td>
              <!-- <img src="more.png" width="25" height="auto"/>  -->
              <div class="dropdown">
                <div onclick="myFunction()" class="dropbtn">
                  <img src="./img/more.png" width="25" height="auto" />
                </div>
                <div id="myDropdown" class="dropdown-content">
                  <a href="#home" onclick="editAlert()"> <img src="./img/editIcon.svg" width="25" height="auto"> Edit </a>
                  <a href="#about" onclick="removeAlert()"> <img src="./img/deleteIcon.svg" width="25" height="auto"> Delete </a>
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <script src="./sweetAlert.js"></script>
  <script>

    var radioVal;

    const radios = document.querySelectorAll('input[name="gender"]');
    radios.forEach(radio => {
      radio.addEventListener('click', function () {
        radioVal = radio.value;
      });
    });

    //add function
    var rlndex, table = document.getElementById("table");

    function checkEmptyInput() {
      let isEmpty = false;
      const petName = document.getElementById("petName").value;
      const statusName = document.getElementById("statusName").value;
      const pawrentName = document.getElementById("pawrentName").value;
      const breedName = document.getElementById("breedName").value;
      const dobName = document.getElementById("dobName").value;
      const phName = document.getElementById("phName").value;
      const addressName = document.getElementById("addressName").value;
      const cityName = document.getElementById("cityName").value;
      const townName = document.getElementById("townName").value;
      if (!petName || !statusName || !pawrentName || !breedName || !dobName || !phName || !addressName || !cityName || !townName) {
        isEmpty = true;
      }
      if (isEmpty) {
        alert('Please Fill All Fields');
      }
      return isEmpty;
    }

    function addHtmTableRow() {
      if (!checkEmptyInput()) {
        const currentRowNo = table.rows.length;
        const newRow = table.insertRow(table.length);
        const cell1 = newRow.insertCell(0);
        const cell2 = newRow.insertCell(1);
        const cell3 = newRow.insertCell(2);
        const cell4 = newRow.insertCell(3);
        const cell5 = newRow.insertCell(4);
        const cell6 = newRow.insertCell(5);
        const cell7 = newRow.insertCell(6);
        const cell8 = newRow.insertCell(7);
        const cell9 = newRow.insertCell(8);
        const cell10 = newRow.insertCell(9);
        const petName = document.getElementById("petName").value;
        const statusName = document.getElementById("statusName").value;
        const pawrentName = document.getElementById("pawrentName").value;
        const breedName = document.getElementById("breedName").value;
        const dobName = document.getElementById("dobName").value;
        const phName = document.getElementById("phName").value;
        const addressName = document.getElementById("addressName").value;
        const cityName = document.getElementById("cityName").value;
        const townName = document.getElementById("townName").value;

        if (radioVal === undefined) {
          radioVal = 'male';
        }
       
        cell1.innerHTML = `P-${currentRowNo}`;
        cell2.innerHTML = petName;
        cell3.innerHTML = statusName;
        cell4.innerHTML = pawrentName;
        cell5.innerHTML = breedName;
        cell6.innerHTML = radioVal;
        cell7.innerHTML = dobName;
        cell8.innerHTML = phName;
        cell9.innerHTML = `${addressName}, ${townName}, ${cityName}`;
        cell10.innerHTML = `
        <div class="dropdown">
                <div onclick="myFunction()" class="dropbtn">
                  <img src="./img/more.png" width="25" height="auto" />
                </div>
                <div id="myDropdown" class="dropdown-content">
                  <a href="#home" onclick="editAlert()"> <img src="editIcon.svg" width="25" height="auto"> Edit </a>
                  <a href="#about" onclick="removeAlert()"> <img src="deleteIcon.svg" width="25" height="auto"> Delete </a>
                </div>
        </div>
        `;
        selectedRowToInput();
        clearData();
      }
    }

    // function selectedRowToInput() {
    //   for (var i = 1; i < table.rows.length; i++) {
    //     table.rows[i].onclick = function () {
    //       rIndex = this.rowIndex;
    //       document.getElementById("petName").value = this.cells[0].innerHTML;
    //       document.getElementById("statusName").value = this.cells[1].innerHTML;
    //       document.getElementById("pawrentName").value = this.cells[3].innerHTML;
    //       document.getElementById("breedName").value = this.cells[4].innerHTML;
    //       document.getElementById("gender").value = this.cells[5].innerHTML;
    //       document.getElementById("dobName").value = this.cells[6].innerHTML;
    //       document.getElementById("phName").value = this.cells[7].innerHTML;
    //       document.getElementById("addressName").value = this.cells[8].innerHTML;
    //       document.getElementById("cityName").value = this.cells[9].innerHTML;
    //       document.getElementById("townName").value = this.cells[10].innerHTML;

          

    //     }
    //   }
    // }

    //add function

    // clear function

    function clearData(){
       document.getElementById("petName").value = ""
       document.getElementById("statusName").value = ""
       document.getElementById("pawrentName").value = ""
       document.getElementById("breedName").value = ""
       document.getElementById("dobName").value = ""
       document.getElementById("phName").value = ""
       document.getElementById("addressName").value = ""
       document.getElementById("cityName").value = ""
       document.getElementById("townName").value = ""
    }

    // clear function

    // Delete Function


    function remove(){
        table.deleteRow(rLndex);

    }
    // Delete Function

    


    // Dot function
    function myFunction() {
      document.getElementById("myDropdown").classList.toggle("show");
    }

    window.onclick = function (event) {
      if (!event.target.matches('.dropbtn')) {
        var dropdowns = document.getElementsByClassName("dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    }

    // Dot Function

    // Modal function

    var modal = document.getElementById("myModal");

    function onCancel(){
      modal.style.display = "none";
    }

    var btn = document.getElementById("myBtn");

    var span = document.getElementsByClassName("close")[0];

    btn.onclick = function () {
      modal.style.display = "block";
    };

    span.onclick = function () {
      modal.style.display = "none";
    };

    window.onclick = function (event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    };
// Modal Function


// edit delete model
    
    function removeAlert() {
      Swal.fire({
        title: 'Are you sure want to delete this patient?',
        icon: 'question',
        showCancelButton: true,
        confirmButtonColor: '#d33',
        cancelButtonColor: '#3085d6',
        confirmButtonText: 'Delete'
      }).then((result) => {

      })
    }
    function editAlert() {
      Swal.fire({
        title: 'Are you sure want to edit this patient?',
        icon: 'info',
        showCancelButton: true,
        confirmButtonColor: '#d33',
        cancelButtonColor: '#3085d6',
        confirmButtonText: 'Edit'
      }).then((result) => {
        if(result.isConfirmed) {
          edit();
        }
      })
    }

// edit delete model


// edit Function

    let fet = document.querySelector("fet"),rIndex;

      for (let i = 1; i < table.row.length; i++){
        table.row[i].onclick = function(){
          rTndex = this.rowIndex;

          document.getElementById("petName").value = this.cells[1].innerHTML;
          document.getElementById("statusName").value = this.cells[2].innerHTML;
          document.getElementById("pawrentName").value = this.cells[3].innerHTML;
          document.getElementById("breedName").value = this.cells[4].innerHTML;
          document.getElementById("gender").value = this.cells[5].innerHTML;
          document.getElementById("dobName").value = this.cells[6].innerHTML;
          document.getElementById("phName").value = this.cells[7].innerHTML;
          document.getElementById("addressName").value = this.cells[8].innerHTML;
          document.getElementById("cityName").value = this.cells[9].innerHTML;
          document.getElementById("townName").value = this.cells[10].innerHTML;

        }
      }

      function remove(){
        table.row[rIndex].cell[1].innerHTML = document.getElementById("petName").value;
        table.row[rIndex].cell[2].innerHTML = document.getElementById("statusName").value;
        table.row[rIndex].cell[3].innerHTML = document.getElementById("pawrentName").value;
        table.row[rIndex].cell[4].innerHTML = document.getElementById("breedName").value;
        table.row[rIndex].cell[5].innerHTML = document.getElementById("genderName").value;
        table.row[rIndex].cell[6].innerHTML = document.getElementById("dobName").value;
        table.row[rIndex].cell[7].innerHTML = document.getElementById("phName").value;
        table.row[rIndex].cell[8].innerHTML = document.getElementById("addressName").value;
        table.row[rIndex].cell[9].innerHTML = document.getElementById("cityName").value;
        table.row[rIndex].cell[10].innerHTML = document.getElementById("townName").value;
      }

      function edit(){
        document.querySelector("#myModal").setAttribute('style' , 'display: Block;')
      }
      
      

      

    //   if(!checkEmptyInpt()){

    //   }

    // }


    // edit Function
  </script>
</body>

</html>